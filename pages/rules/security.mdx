import { Callout } from 'nextra/components'

# λ³΄μ•

λ¨λ“  μ½”λ“μ— μ μ©λλ” ν•„μ λ³΄μ• κ·μΉ™μ…λ‹λ‹¤.

<Callout type="error" emoji="π”’">
  λ³΄μ•μ€ μ„ νƒ μ‚¬ν•­μ΄ μ•„λ‹™λ‹λ‹¤. λ¨λ“  μ»¤λ°‹ μ „μ— λ³΄μ• μ²΄ν¬λ¦¬μ¤νΈλ¥Ό ν™•μΈν•μ„Έμ”!
</Callout>

## ν•„μ λ³΄μ• κ²€μ‚¬

λ¨λ“  μ»¤λ°‹ μ „:

- [ ] ν•λ“μ½”λ”©λ μ‹ν¬λ¦Ώ μ—†μ (API ν‚¤, λΉ„λ°€λ²νΈ, ν† ν°)
- [ ] λ¨λ“  μ‚¬μ©μ μ…λ ¥ κ²€μ¦λ¨
- [ ] SQL μΈμ μ… λ°©μ§€ (νλΌλ―Έν„°ν™”λ μΏΌλ¦¬)
- [ ] XSS λ°©μ§€ (HTML μƒλ‹νƒ€μ΄μ¦)
- [ ] CSRF λ³΄νΈ ν™μ„±ν™”
- [ ] μΈμ¦/μΈκ°€ κ²€μ¦λ¨
- [ ] λ¨λ“  μ—”λ“ν¬μΈνΈμ— λ μ΄νΈ λ¦¬λ―Έν…
- [ ] μ¤λ¥ λ©”μ‹μ§€κ°€ λ―Όκ°ν• λ°μ΄ν„° λ…Έμ¶ν•μ§€ μ•μ

## μ‹ν¬λ¦Ώ κ΄€λ¦¬

```typescript
// β μ λ€ κΈμ§€: ν•λ“μ½”λ”©λ μ‹ν¬λ¦Ώ
const apiKey = "sk-proj-xxxxx"

// β… ν•­μƒ: ν™κ²½ λ³€μ
const apiKey = process.env.OPENAI_API_KEY

if (!apiKey) {
  throw new Error('OPENAI_API_KEYκ°€ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤')
}
```

### μ‹ν¬λ¦Ώ ν¨ν„΄

| ν¨ν„΄ | μ„¤λ… | μμ‹ |
|------|------|------|
| `sk-*` | API ν‚¤ | `sk-proj-abc123` |
| `ghp_*` | GitHub ν† ν° | `ghp_xxx...` |
| `Bearer *` | μΈμ¦ ν† ν° | `Bearer eyJ...` |

## SQL μΈμ μ… λ°©μ§€

```typescript
// β μ„ν—: λ¬Έμμ—΄ μ—°κ²°
const query = `SELECT * FROM users WHERE id = ${userId}`

// β… μ•μ „: νλΌλ―Έν„°ν™”λ μΏΌλ¦¬
const { data } = await supabase
  .from('users')
  .select('*')
  .eq('id', userId)
```

## XSS λ°©μ§€

```typescript
// β μ„ν—: innerHTML μ§μ ‘ μ‚¬μ©
element.innerHTML = userInput

// β… μ•μ „: textContent μ‚¬μ©
element.textContent = userInput

// β… μ•μ „: λΌμ΄λΈλ¬λ¦¬λ΅ μƒλ‹νƒ€μ΄μ¦
import DOMPurify from 'dompurify'
element.innerHTML = DOMPurify.sanitize(userInput)
```

## μ…λ ¥ κ²€μ¦

```typescript
import { z } from 'zod'

const userSchema = z.object({
  email: z.string().email(),
  password: z.string().min(8).max(100),
  age: z.number().int().min(0).max(150)
})

// κ²€μ¦ μ‹¤ν¨ μ‹ μμ™Έ λ°μƒ
const validatedUser = userSchema.parse(input)
```

## λ³΄μ• λ€μ‘ ν”„λ΅ν† μ½

λ³΄μ• μ΄μ λ°κ²¬ μ‹:

1. **μ¦‰μ‹ μ¤‘λ‹¨** - μ½”λ“ μ‘μ„± μ¤‘μ§€
2. **security-reviewer μ—μ΄μ „νΈ μ‚¬μ©** - μ „μ²΄ λ¶„μ„
3. **CRITICAL μ΄μ μμ •** - κ³„μ†ν•κΈ° μ „μ— ν•΄κ²°
4. **μ‹ν¬λ¦Ώ λ΅ν…μ΄μ…** - λ…Έμ¶λ μ‹ν¬λ¦Ώ κµμ²΄
5. **μ „μ²΄ κ²€ν† ** - μ μ‚¬ν• μ΄μκ°€ μλ”μ§€ μ½”λ“λ² μ΄μ¤ κ²€ν† 

## λ³΄μ• λ“±κΈ‰

| λ“±κΈ‰ | μ„¤λ… | μ΅°μΉ |
|------|------|------|
| π”΄ **μΉλ…μ ** | μ‹ν¬λ¦Ώ λ…Έμ¶, μΈμ μ… | μ¦‰μ‹ μμ • ν•„μ |
| π  **λ†’μ** | μΈμ¦ μ°ν, XSS | μ»¤λ°‹ μ „ μμ • |
| π΅ **μ¤‘κ°„** | λ μ΄νΈ λ¦¬λ―Έν… λ„λ½ | κ°€λ¥ν• λΉ¨λ¦¬ μμ • |
| πΆ **λ‚®μ** | μ •λ³΄ λ…Έμ¶ κ°€λ¥μ„± | κ²€ν†  ν›„ μμ • |

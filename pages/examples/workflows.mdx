import { Callout, Steps } from 'nextra/components'

# 실전 워크플로우

Claude Code를 활용한 실전 개발 워크플로우 예시입니다.

## 새 기능 개발 워크플로우

<Steps>
### 계획 수립

```
planner 에이전트를 사용해서 사용자 인증 기능 구현 계획을 세워줘
```

에이전트가 다음을 분석합니다:
- 기존 코드베이스 구조
- 필요한 컴포넌트
- 의존성 및 위험 요소
- 단계별 구현 계획

### 아키텍처 설계

```
architect 에이전트로 인증 시스템 아키텍처를 설계해줘
```

설계 결과:
- 컴포넌트 다이어그램
- 데이터 플로우
- 기술 선택 근거

### TDD로 구현

```
tdd-guide 에이전트를 사용해서 로그인 기능을 구현해줘
```

TDD 사이클:
1. 테스트 작성 (RED)
2. 구현 (GREEN)
3. 리팩토링 (REFACTOR)

### 코드 리뷰

```
code-reviewer 에이전트로 방금 작성한 코드를 리뷰해줘
```

리뷰 항목:
- 코드 품질
- 보안 취약점
- 성능 이슈
- 테스트 커버리지

### 보안 검토

```
security-reviewer 에이전트로 인증 코드를 검토해줘
```

보안 체크:
- 입력 검증
- SQL 인젝션
- XSS
- 인증/인가

### 커밋 및 PR

```
변경사항을 커밋하고 PR을 생성해줘
```
</Steps>

## 버그 수정 워크플로우

<Steps>
### 버그 분석

```
로그인 실패 시 에러 메시지가 표시되지 않는 버그를 분석해줘
```

### 재현 테스트 작성

```
tdd-guide로 이 버그를 재현하는 테스트를 먼저 작성해줘
```

### 수정 구현

```
테스트가 통과하도록 버그를 수정해줘
```

### 검증

```
모든 테스트를 실행해서 수정이 다른 기능에 영향을 주지 않는지 확인해줘
```
</Steps>

## 리팩토링 워크플로우

<Steps>
### 코드 분석

```
refactor-cleaner 에이전트로 src/utils 폴더의 리팩토링 대상을 찾아줘
```

### 계획 수립

```
planner로 리팩토링 계획을 세워줘
```

### 단계적 리팩토링

```
테스트가 계속 통과하는 것을 확인하면서 단계별로 리팩토링해줘
```

### 리뷰

```
code-reviewer로 리팩토링 결과를 리뷰해줘
```
</Steps>

## 문서 업데이트 워크플로우

```
doc-updater 에이전트로 API 문서를 최신 코드와 동기화해줘
```

<Callout type="info">
  문서 자동 생성은 요청 시에만 수행됩니다. CLAUDE.md에서 자동 생성을 차단할 수 있습니다.
</Callout>

## 빌드 오류 해결 워크플로우

<Steps>
### 빌드 실행

```bash
npm run build
```

### 오류 분석

```
build-error-resolver 에이전트로 빌드 오류를 분석하고 해결해줘
```

### 점진적 수정

에이전트가 오류를 하나씩 수정하고 검증합니다.

### 최종 검증

```bash
npm run build && npm test
```
</Steps>

## E2E 테스트 워크플로우

```
e2e-runner 에이전트로 로그인 플로우에 대한 E2E 테스트를 작성하고 실행해줘
```

E2E 테스트 포함:
- 정상 로그인
- 잘못된 비밀번호
- 빈 필드
- 소셜 로그인

## 병렬 작업 실행

<Callout type="warning">
  독립적인 작업에는 항상 병렬 Task 실행 사용!
</Callout>

```
다음 작업을 병렬로 실행해줘:
1. src/auth 폴더 보안 분석
2. src/cache 폴더 성능 리뷰
3. src/utils 폴더 타입 검사
```

## 다중 관점 분석

복잡한 문제에는 역할 분리 서브 에이전트를 사용합니다:

```
이 결제 시스템 설계를 다양한 관점에서 분석해줘:
- 보안 전문가 관점
- 성능 전문가 관점
- UX 관점
- 유지보수성 관점
```

## 코드 마이그레이션 워크플로우

<Steps>
### 분석

```
현재 JavaScript 코드베이스를 TypeScript로 마이그레이션하기 위한 분석을 해줘
```

### 계획

```
planner로 마이그레이션 계획을 세워줘. 점진적으로 진행할 수 있도록.
```

### 점진적 마이그레이션

```
src/utils부터 시작해서 TypeScript로 마이그레이션해줘.
테스트가 계속 통과하는지 확인하면서 진행해.
```

### 검증

```
모든 타입 오류를 확인하고 수정해줘
```
</Steps>

## 성능 최적화 워크플로우

```
이 React 컴포넌트의 성능을 분석하고 최적화해줘:
1. 불필요한 리렌더링 찾기
2. 메모이제이션 적용
3. 코드 스플리팅 고려
4. 번들 크기 분석
```

## 일일 개발 루틴

### 아침

```bash
# 최신 변경사항 가져오기
git pull

# 어제 작업 이어하기
claude
```

### 개발 중

```
- 기능 개발: planner → tdd-guide → code-reviewer
- 버그 수정: 재현 테스트 → 수정 → 검증
- 리팩토링: refactor-cleaner → 수정 → 리뷰
```

### 퇴근 전

```
오늘 작업을 정리해서 커밋하고,
내일 할 작업을 TODO로 정리해줘
```

## 워크플로우 자동화 팁

### 1. 에이전트 체이닝

```
planner → architect → tdd-guide → code-reviewer → security-reviewer
```

### 2. 병렬 실행

독립적인 분석 작업은 병렬로 실행하세요.

### 3. 컨텍스트 관리

복잡한 작업 전에 새 세션을 시작하세요.

### 4. 점진적 접근

큰 변경은 작은 단계로 나누어 진행하세요.

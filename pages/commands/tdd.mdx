import { Callout } from 'nextra/components'

# /tdd (테스트)

테스트 주도 개발 워크플로우 강제. 80%+ 커버리지 보장.

## 설명

```yaml
description: 테스트 주도 개발 워크플로우 강제. 인터페이스 스캐폴딩, 테스트 먼저 생성, 최소한의 코드로 구현.
```

<Callout type="info" emoji="🧪">
  **`tdd-guide` 에이전트**를 호출하여 테스트 주도 개발 방법론을 강제합니다.
</Callout>

## 이 커맨드가 하는 일

1. **인터페이스 스캐폴딩** - 먼저 타입/인터페이스 정의
2. **테스트 먼저 생성** - 실패하는 테스트 작성 (RED)
3. **최소한의 코드 구현** - 통과할 만큼만 작성 (GREEN)
4. **리팩토링** - 테스트가 그린인 상태로 코드 개선 (REFACTOR)
5. **커버리지 확인** - 80%+ 테스트 커버리지 보장

## 사용 시점

- 새 기능 구현
- 새 함수/컴포넌트 추가
- 버그 수정 (먼저 버그를 재현하는 테스트 작성)
- 기존 코드 리팩토링
- 중요 비즈니스 로직 구축

## TDD 사이클

```
RED → GREEN → REFACTOR → REPEAT

RED:      실패하는 테스트 작성
GREEN:    통과할 최소한의 코드 작성
REFACTOR: 코드 개선, 테스트는 통과 유지
REPEAT:   다음 기능/시나리오
```

## 모범 사례

**해야 할 것:**
- ✅ 구현 전에 테스트를 먼저 작성
- ✅ 테스트 실행하고 구현 전에 실패 확인
- ✅ 테스트 통과할 최소한의 코드 작성
- ✅ 테스트가 그린일 때만 리팩토링
- ✅ 엣지 케이스 및 오류 시나리오 추가
- ✅ 80%+ 커버리지 목표

**하지 말아야 할 것:**
- ❌ 테스트 전에 구현 작성
- ❌ 각 변경 후 테스트 실행 건너뛰기
- ❌ 한 번에 너무 많은 코드 작성
- ❌ 실패하는 테스트 무시
- ❌ 구현 세부사항 테스트
- ❌ 모든 것 모킹

## 포함할 테스트 유형

| 유형 | 범위 | 예시 |
|------|------|------|
| **단위 테스트** | 함수 | 행복한 경로, 엣지 케이스, 오류 조건 |
| **통합 테스트** | 컴포넌트 | API 엔드포인트, DB 작업 |
| **E2E 테스트** | 시스템 | 중요 사용자 흐름 (`/e2e` 사용) |

## 커버리지 요구사항

- **80% 최소** 모든 코드
- **100% 필수** 대상:
  - 금융 계산
  - 인증 로직
  - 보안에 중요한 코드
  - 핵심 비즈니스 로직

## 다른 커맨드와의 통합

- `/plan`을 먼저 사용하여 무엇을 구축할지 이해
- `/tdd`를 사용하여 테스트와 함께 구현
- `/build-fix`를 사용하여 빌드 오류 발생 시
- `/code-review`를 사용하여 구현 검토
- `/test-coverage`를 사용하여 커버리지 확인

<Callout type="error" emoji="⚠️">
  **필수**: RED 단계를 절대 건너뛰지 마세요. 테스트 전에 코드를 절대 작성하지 마세요.
</Callout>
